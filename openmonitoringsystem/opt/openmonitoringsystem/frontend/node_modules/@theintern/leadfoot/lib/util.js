"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Task_1 = require("@dojo/core/async/Task");
var lang_1 = require("@dojo/core/lang");
function sleep(ms) {
    var timer;
    return new Task_1.default(function (resolve) {
        timer = setTimeout(function () {
            resolve();
        }, ms);
    }, function () { return clearTimeout(timer); });
}
exports.sleep = sleep;
function forCommand(fn, properties) {
    return lang_1.mixin(fn, properties);
}
exports.forCommand = forCommand;
function toExecuteString(fn) {
    if (typeof fn === 'function') {
        fn = fn.toString().replace(/\b__cov_[^,;]+[,;]/g, '');
        fn = 'return (' + fn + ').apply(this, arguments);';
    }
    return fn;
}
exports.toExecuteString = toExecuteString;
function trimStack(stack) {
    return stack.replace(/^[^\n]+/, '');
}
exports.trimStack = trimStack;
//# sourceMappingURL=util.js.map