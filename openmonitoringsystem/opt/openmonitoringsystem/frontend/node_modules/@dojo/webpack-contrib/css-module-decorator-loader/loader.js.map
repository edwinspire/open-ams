{"version":3,"file":"loader.js","sourceRoot":"","sources":["loader.ts"],"names":[],"mappings":";;AACA,+BAAgC;AAEhC,MAAM,QAAQ,GAAG,OAAO,CAAC;AAEzB,mBAAqD,OAAe,EAAE,GAAS;IAC9E,IAAI,QAAQ,GAAG,OAAO,CAAC;IACvB,MAAM,YAAY,GAAG,gCAAgC,CAAC;IACtD,MAAM,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;IAE5C,EAAE,CAAC,CAAC,OAAO,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;QACnC,MAAM,GAAG,GAAG,eAAQ,CAAC,IAAI,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;QAClD,MAAM,YAAY,GAAG,KAAK,QAAQ,OAAO,GAAG,KAAK,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;QAC/D,QAAQ,GAAG,OAAO,CAAC,OAAO,CAAC,YAAY,EAAE,oBAAoB,YAAY,GAAG,CAAC,CAAC;IAC/E,CAAC;IAED,MAAM,CAAC,QAAQ,CAAC;AACjB,CAAC;AAZD,4BAYC","sourcesContent":["import webpack = require('webpack');\nimport { basename } from 'path';\n\nconst themeKey = ' _key';\n\nexport default function(this: webpack.LoaderContext, content: string, map?: any): string {\n\tlet response = content;\n\tconst localsRexExp = /exports.locals = {([.\\s\\S]*)};/;\n\tconst matches = content.match(localsRexExp);\n\n\tif (matches && matches.length > 0) {\n\t\tconst key = basename(this.resourcePath, '.m.css');\n\t\tconst localExports = `{\"${themeKey}\": \"${key}\",${matches[1]}}`;\n\t\tresponse = content.replace(localsRexExp, `exports.locals = ${localExports};`);\n\t}\n\n\treturn response;\n}\n"]}