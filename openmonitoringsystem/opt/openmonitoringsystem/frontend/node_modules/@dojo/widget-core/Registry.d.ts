import { Handle } from '@dojo/interfaces/core';
import { BaseEventedEvents, Evented, EventObject } from '@dojo/core/Evented';
import { Constructor, RegistryLabel, WidgetBaseConstructor, WidgetBaseInterface } from './interfaces';
import { Injector } from './Injector';
export declare type WidgetBaseConstructorFunction = () => Promise<WidgetBaseConstructor>;
export declare type RegistryItem = WidgetBaseConstructor | Promise<WidgetBaseConstructor> | WidgetBaseConstructorFunction;
/**
 * Widget base symbol type
 */
export declare const WIDGET_BASE_TYPE: symbol;
export interface RegistryEventObject extends EventObject {
    action: string;
    item: WidgetBaseConstructor | Injector;
}
export interface RegistryListener {
    (event: RegistryEventObject): void;
}
export interface RegistryEvents extends BaseEventedEvents {
    (type: RegistryLabel, listener: RegistryListener | RegistryListener[]): Handle;
}
/**
 * Widget Registry Interface
 */
export interface RegistryInterface {
    /**
     * Define a WidgetRegistryItem against a label
     *
     * @param label The label of the widget to register
     * @param registryItem The registry item to define
     */
    define(label: RegistryLabel, registryItem: RegistryItem): void;
    /**
     * Return a RegistryItem for the given label, null if an entry doesn't exist
     *
     * @param widgetLabel The label of the widget to return
     * @returns The RegistryItem for the widgetLabel, `null` if no entry exists
     */
    get<T extends WidgetBaseInterface = WidgetBaseInterface>(label: RegistryLabel): Constructor<T> | null;
    /**
     * Returns a boolean if an entry for the label exists
     *
     * @param widgetLabel The label to search for
     * @returns boolean indicating if a widget registry item exists
     */
    has(label: RegistryLabel): boolean;
    /**
     * Define an Injector against a label
     *
     * @param label The label of the injector to register
     * @param registryItem The injector to define
     */
    defineInjector(label: RegistryLabel, registryItem: Injector): void;
    /**
     * Return an Injector registry item for the given label, null if an entry doesn't exist
     *
     * @param label The label of the injector to return
     * @returns The RegistryItem for the widgetLabel, `null` if no entry exists
     */
    getInjector<T extends Injector>(label: RegistryLabel): T | null;
    /**
     * Returns a boolean if an injector for the label exists
     *
     * @param widgetLabel The label to search for
     * @returns boolean indicating if a injector registry item exists
     */
    hasInjector(label: RegistryLabel): boolean;
}
/**
 * Checks is the item is a subclass of WidgetBase (or a WidgetBase)
 *
 * @param item the item to check
 * @returns true/false indicating if the item is a WidgetBaseConstructor
 */
export declare function isWidgetBaseConstructor<T extends WidgetBaseInterface>(item: any): item is Constructor<T>;
/**
 * The Registry implementation
 */
export declare class Registry extends Evented implements RegistryInterface {
    on: RegistryEvents;
    /**
     * internal map of labels and RegistryItem
     */
    private _widgetRegistry;
    private _injectorRegistry;
    /**
     * Emit loaded event for registry label
     */
    private emitLoadedEvent(widgetLabel, item);
    define(label: RegistryLabel, item: RegistryItem): void;
    defineInjector(label: RegistryLabel, item: Injector): void;
    get<T extends WidgetBaseInterface = WidgetBaseInterface>(label: RegistryLabel): Constructor<T> | null;
    getInjector<T extends Injector>(label: RegistryLabel): T | null;
    has(label: RegistryLabel): boolean;
    hasInjector(label: RegistryLabel): boolean;
}
export default Registry;
