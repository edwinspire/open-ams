{"version":3,"file":"AssertionError.js","sourceRoot":"","sources":["AssertionError.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * (The MIT License)\n *\n * Copyright (c) 2013 Jake Luer <jake@qualiancy.com> (http://qualiancy.com)\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/*\n * This module is adapated from [assertion-error](https://github.com/chaijs/assertion-error)\n * from JavaScript to TypeScript\n */\n\n/**\n * Return a function that will copy properties from\n * one object to another excluding any originally\n * listed. Returned function will create a new `{}`.\n *\n * @param excluds excluded properties\n */\nfunction exclude(...excludes: string[]) {\n\n\tfunction excludeProps(res: any, obj: any) {\n\t\tObject.keys(obj).forEach(function (key) {\n\t\t\tif (!~excludes.indexOf(key)) {\n\t\t\t\tres[key] = obj[key];\n\t\t\t}\n\t\t});\n\t}\n\n\treturn function extendExclude(...args: any[]): any {\n\t\tconst res = {};\n\n\t\tfor (let i = 0; i < args.length; i++) {\n\t\t\texcludeProps(res, args[i]);\n\t\t}\n\n\t\treturn res;\n\t};\n};\n\nexport interface AssertionError extends Error {\n\t[prop: string]: any;\n\tshowDiff: boolean;\n}\n\nexport interface AssertionErrorConstructor {\n\tnew (message?: string, _props?: any, ssf?: Function): AssertionError;\n\tprototype: AssertionError;\n}\n\n/**\n * ### AssertionError\n *\n * An extension of the JavaScript `Error` constructor for\n * assertion and validation scenarios.\n *\n * @param message (optional)\n * @param _props properties to include (optional)\n * @param ssf start stack function (optional)\n */\nfunction AssertionError(this: AssertionError, message?: string, _props?: any, ssf?: Function) {\n\tconst extend = exclude('name', 'message', 'stack', 'constructor', 'toJSON');\n\tconst props: { [key: string]: any } = extend(_props || {});\n\n\t// default values\n\tthis.message = message || 'Unspecified AssertionError';\n\tthis.showDiff = false;\n\n\t// copy from properties\n\tfor (const key in props) {\n\t\tthis[key] = props[key];\n\t}\n\n\t// capture stack trace\n\tif (ssf && Error.captureStackTrace) {\n\t\tError.captureStackTrace(this, ssf);\n\t}\n\telse {\n\t\ttry {\n\t\t\tthrow new Error();\n\t\t}\n\t\tcatch (e) {\n\t\t\tthis.stack = e.stack;\n\t\t}\n\t}\n}\n\n/*!\n * Inherit from Error.prototype\n */\n\nAssertionError.prototype = Object.create(Error.prototype);\n\n/*!\n * Statically set name\n */\n\nAssertionError.prototype.name = 'AssertionError';\n\n/*!\n * Ensure correct constructor\n */\n\nAssertionError.prototype.constructor = AssertionError;\n\n/**\n * Allow errors to be converted to JSON for static transfer.\n *\n * @param stack include stack (default: `true`)\n */\nAssertionError.prototype.toJSON = function (this: AssertionError, stack?: boolean) {\n\tconst extend = exclude('constructor', 'toJSON', 'stack');\n\tconst props: { [prop: string]: any } = extend({ name: this.name }, this);\n\n\t// include stack if exists and not turned off\n\tif (false !== stack && this.stack) {\n\t\tprops.stack = this.stack;\n\t}\n\n\treturn props;\n};\n\n/* tslint:disable:variable-name */\nconst AssertionErrorConstructor: AssertionErrorConstructor = <any> AssertionError;\n\nexport default AssertionErrorConstructor;\n"]}