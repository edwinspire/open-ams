{"version":3,"file":"webpack.config.js","sourceRoot":"","sources":["webpack.config.ts"],"names":[],"mappings":"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","sourcesContent":["import webpack = require('webpack');\nimport * as path from 'path';\nimport { existsSync, readFileSync } from 'fs';\nimport ExternalLoaderPlugin from '@dojo/webpack-contrib/external-loader-plugin/ExternalLoaderPlugin';\nimport CssModulePlugin from '@dojo/webpack-contrib/css-module-plugin/CssModulePlugin';\nimport { BuildArgs } from './main';\n\nconst IgnorePlugin = require('webpack/lib/IgnorePlugin');\nconst CopyWebpackPlugin = require('copy-webpack-plugin');\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\nconst ExtractTextPlugin = require('extract-text-webpack-plugin');\nconst AutoRequireWebpackPlugin = require('auto-require-webpack-plugin');\nconst OptimizeCssAssetsPlugin = require('optimize-css-assets-webpack-plugin');\nconst BundleAnalyzerPlugin = require('webpack-bundle-analyzer-sunburst').BundleAnalyzerPlugin;\n\nconst isCLI = process.env.DOJO_CLI;\nconst packagePath = isCLI ? '.' : '@dojo/cli-build-webpack';\nconst CoreLoadPlugin = require(`${packagePath}/plugins/CoreLoadPlugin`).default;\nconst I18nPlugin = require(`${packagePath}/plugins/I18nPlugin`).default;\nconst IgnoreUnmodifiedPlugin = require(`${packagePath}/plugins/IgnoreUnmodifiedPlugin`).default;\nconst basePath = process.cwd();\n\nconst packageJsonPath = path.join(basePath, 'package.json');\nconst packageJson = existsSync(packageJsonPath) ? require(packageJsonPath) : undefined;\n\nlet tslintExists = false;\ntry {\n\trequire(path.join(basePath, 'tslint'));\n\ttslintExists = true;\n} catch (ignore) { }\n\ntype IncludeCallback = (args: BuildArgs) => any;\n\nfunction getJsonpFunction(name?: string) {\n\tlet jsonpFunction = 'dojoWebpackJsonp';\n\tif (name) {\n\t\tjsonpFunction += '_' + name.replace(/[^a-z0-9_]/g, ' ').trim().replace(/\\s+/g, '_');\n\t}\n\treturn jsonpFunction;\n}\n\ninterface UMDCompatOptions {\n\tbundles?: {\n\t\t[key: string]: string[];\n\t};\n}\n\nfunction getUMDCompatLoader(options: UMDCompatOptions) {\n\tconst { bundles = {} } = options;\n\treturn {\n\t\tloader: 'umd-compat-loader',\n\t\toptions: {\n\t\t\timports(module: string, context: string) {\n\t\t\t\tconst filePath = path.relative(basePath, path.join(context, module));\n\t\t\t\tlet chunkName = filePath;\n\t\t\t\tObject.keys(bundles).some((name) => {\n\t\t\t\t\tconst bundlePaths = bundles[name].map(bundlePath => path.normalize(bundlePath));\n\t\t\t\t\tif (bundlePaths.indexOf(filePath) > -1) {\n\t\t\t\t\t\tchunkName = name;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\treturn `promise-loader?global,${chunkName}!${module}`;\n\t\t\t}\n\t\t}\n\t};\n}\n\ninterface BuildConfigOptions {\n\ttarget?: 'web' | 'node';\n}\n\nfunction webpackConfig(args: Partial<BuildArgs>) {\n\targs = args || {};\n\n\tconst cssLoader = ExtractTextPlugin.extract({ use: 'css-loader?sourceMap' });\n\tconst localIdentName = (args.watch || args.withTests) ? '[name]__[local]__[hash:base64:5]' : '[hash:base64:8]';\n\tconst externalDependencies = (args.externals && args.externals.dependencies) || [];\n\tconst includesExternals = Boolean(externalDependencies.length);\n\tconst cssModuleLoader = ExtractTextPlugin.extract({\n\t\tuse: [\n\t\t\t'@dojo/webpack-contrib/css-module-decorator-loader',\n\t\t\t`css-loader?modules&sourceMap&importLoaders=1&localIdentName=${localIdentName}`,\n\t\t\t{\n\t\t\t\tloader: 'postcss-loader?sourceMap',\n\t\t\t\toptions: {\n\t\t\t\t\tconfig: {\n\t\t\t\t\t\tpath: path.join(__dirname, 'postcss.config.js')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t});\n\n\tfunction includeWhen(predicate: any, callback: IncludeCallback, elseCallback: IncludeCallback | null = null) {\n\t\treturn predicate ? callback(args as any) : (elseCallback ? elseCallback(args as any) : []);\n\t}\n\n\tconst ignoredModules: string[] = [];\n\n\tif (args.bundles && Object.keys(args.bundles)) {\n\t\tObject.keys(args.bundles).forEach(bundleName => {\n\t\t\t(args.bundles || {})[bundleName].forEach(moduleName => {\n\t\t\t\tignoredModules.push(moduleName);\n\t\t\t});\n\t\t});\n\t}\n\n\tconst jsonpFunctionName = getJsonpFunction(packageJson && packageJson.name);\n\n\tconst outputConfig: webpack.Output = {\n\t\tchunkFilename: '[name].js',\n\t\tfilename: '[name].js',\n\t\tjsonpFunction: jsonpFunctionName,\n\t\tlibraryTarget: 'umd',\n\t\tpath: path.resolve('./dist')\n\t};\n\n\tconst config: webpack.Config = {\n\t\texternals: [\n\t\t\tfunction (context, request, callback) {\n\t\t\t\tconst externals = externalDependencies || [];\n\t\t\t\tfunction findExternalType(externals: (string | { name?: string; type?: string; })[]): string | void {\n\t\t\t\t\tfor (let external of externals) {\n\t\t\t\t\t\tconst name = external && (typeof external === 'string' ? external : external.name);\n\t\t\t\t\t\tif (name && new RegExp(`^${name}[!\\/]`).test(request)) {\n\t\t\t\t\t\t\treturn (typeof external === 'string' ? '' : external.type) || 'amd';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst type = findExternalType(externals.concat('intern'));\n\t\t\t\tif (type) {\n\t\t\t\t\treturn callback(null, `${type} ${request}`);\n\t\t\t\t}\n\n\t\t\t\tcallback();\n\t\t\t}\n\t\t],\n\t\tentry: includeWhen(args.element, args => {\n\t\t\treturn {\n\t\t\t\t[args.elementPrefix]: `${__dirname}/templates/custom-element.js`,\n\t\t\t\t'widget-core': '@dojo/widget-core'\n\t\t\t};\n\t\t}, args => {\n\t\t\treturn {\n\t\t\t\t...includeWhen(args.withTests, () => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t[`../_build/tests/unit/all`]: [ path.join(basePath, 'tests/unit/all.ts') ],\n\t\t\t\t\t\t[`../_build/tests/functional/all`]: [ path.join(basePath, 'tests/functional/all.ts') ],\n\t\t\t\t\t\t[`../_build/src/main`]: [\n\t\t\t\t\t\t\tpath.join(basePath, 'src/main.css'),\n\t\t\t\t\t\t\tpath.join(basePath, 'src/main.ts')\n\t\t\t\t\t\t]\n\t\t\t\t\t};\n\t\t\t\t}, () => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t'src/main': [\n\t\t\t\t\t\t\t'@dojo/shim/main',\n\t\t\t\t\t\t\t'@dojo/shim/browser',\n\t\t\t\t\t\t\tpath.join(basePath, 'src/main.css'),\n\t\t\t\t\t\t\tpath.join(basePath, 'src/main.ts')\n\t\t\t\t\t\t]\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t};\n\t\t}),\n\t\tnode: {\n\t\t\tdgram: 'empty',\n\t\t\tnet: 'empty',\n\t\t\ttls: 'empty',\n\t\t\tfs: 'empty'\n\t\t},\n\t\tplugins: [\n\t\t\tnew AutoRequireWebpackPlugin(/src\\/main/),\n\t\t\tnew webpack.BannerPlugin(readFileSync(require.resolve(`${packagePath}/banner.md`), 'utf8')),\n\t\t\t/**\n\t\t\t * We're using the banner plugin here to fix a bug with the webpack jsonp function. When the function is used\n\t\t\t * in the test bundle, the variable is not scoped at all, so it has, in our case, a function scope in node.\n\t\t\t * This little hack makes sure the function is defined by grabbing it from the window scope (jsdom).\n\t\t\t */\n\t\t\tnew webpack.BannerPlugin(<any> {\n\t\t\t\tbanner: `var ${jsonpFunctionName} = ${jsonpFunctionName} || window[\"${jsonpFunctionName}\"];`,\n\t\t\t\traw: true,\n\t\t\t\ttest: /tests\\/unit\\/all\\.*/\n\t\t\t}),\n\t\t\tnew CssModulePlugin(basePath),\n\t\t\tnew IgnorePlugin(/request\\/providers\\/node/),\n\t\t\tnew webpack.ContextReplacementPlugin(/dojo-app[\\\\\\/]lib/, { test: () => false }),\n\t\t\t...includeWhen(args.watch, () => {\n\t\t\t\treturn [ new IgnoreUnmodifiedPlugin() ];\n\t\t\t}),\n\t\t\tincludeWhen(args.element, args => {\n\t\t\t\treturn new ExtractTextPlugin({ filename: `${args.elementPrefix}.css` });\n\t\t\t}, () => {\n\t\t\t\treturn new ExtractTextPlugin({ filename: 'main.css', allChunks: true });\n\t\t\t}),\n\t\t\t...includeWhen(!args.watch && !args.withTests, () => {\n\t\t\t\treturn [ new OptimizeCssAssetsPlugin({\n\t\t\t\t\tcssProcessorOptions: {\n\t\t\t\t\t\tmap: { inline: false }\n\t\t\t\t\t}\n\t\t\t\t}) ];\n\t\t\t}),\n\t\t\tincludeWhen(args.element, () => {\n\t\t\t\treturn new CopyWebpackPlugin([\n\t\t\t\t\t{ context: 'src', from: '**/*', ignore: [ '*.ts', '*.css', '*.html' ] }\n\t\t\t\t]);\n\t\t\t}, () => {\n\t\t\t\treturn new CopyWebpackPlugin([\n\t\t\t\t\t{ context: 'src', from: '**/*', ignore: '*.ts' }\n\t\t\t\t]);\n\t\t\t}),\n\t\t\tnew CoreLoadPlugin({\n\t\t\t\tbasePath,\n\t\t\t\tdetectLazyLoads: !args.disableLazyWidgetDetection,\n\t\t\t\tignoredModules,\n\t\t\t\tmapAppModules: args.withTests\n\t\t\t}),\n\n\t\t\t...includeWhen(args.element, () => {\n\t\t\t\treturn [ new webpack.optimize.CommonsChunkPlugin({\n\t\t\t\t\tname: 'widget-core',\n\t\t\t\t\tfilename: 'widget-core.js'\n\t\t\t\t})];\n\t\t\t}),\n\t\t\t...includeWhen(!args.watch && !args.withTests, () => {\n\t\t\t\treturn [ new webpack.optimize.UglifyJsPlugin({\n\t\t\t\t\tsourceMap: true,\n\t\t\t\t\tcompress: { warnings: false },\n\t\t\t\t\texclude: /tests[/]/\n\t\t\t\t}) ];\n\t\t\t}),\n\t\t\tincludeWhen(args.element, args => {\n\t\t\t\treturn new HtmlWebpackPlugin({\n\t\t\t\t\tinject: false,\n\t\t\t\t\ttemplate: path.join(__dirname, 'templates/custom-element.html'),\n\t\t\t\t\tfilename: `${args.elementPrefix}.html`\n\t\t\t\t});\n\t\t\t}, () => {\n\t\t\t\treturn new HtmlWebpackPlugin({\n\t\t\t\t\tinject: true,\n\t\t\t\t\tchunks: [ 'src/main' ],\n\t\t\t\t\ttemplate: 'src/index.html'\n\t\t\t\t});\n\t\t\t}),\n\t\t\t...includeWhen(args.locale, args => {\n\t\t\t\tconst { locale, messageBundles, supportedLocales, watch } = args;\n\t\t\t\treturn [\n\t\t\t\t\tnew I18nPlugin({\n\t\t\t\t\t\tcacheCldrUrls: watch,\n\t\t\t\t\t\tdefaultLocale: locale,\n\t\t\t\t\t\tsupportedLocales,\n\t\t\t\t\t\tmessageBundles\n\t\t\t\t\t})\n\t\t\t\t];\n\t\t\t}),\n\t\t\t...includeWhen(!args.watch && !args.withTests, () => {\n\t\t\t\treturn [\n\t\t\t\t\tnew BundleAnalyzerPlugin({\n\t\t\t\t\t\tanalyzerMode: 'static',\n\t\t\t\t\t\topenAnalyzer: false,\n\t\t\t\t\t\treportType: 'sunburst'\n\t\t\t\t\t})\n\t\t\t\t];\n\t\t\t}),\n\t\t\t...includeWhen(args.withTests, () => {\n\t\t\t\treturn [\n\t\t\t\t\tnew CopyWebpackPlugin([\n\t\t\t\t\t\t{context: 'tests', from: '**/*', ignore: '*.ts', to: '../_build/tests' }\n\t\t\t\t\t]),\n\t\t\t\t\tnew HtmlWebpackPlugin ({\n\t\t\t\t\t\tinject: true,\n\t\t\t\t\t\tchunks: [ 'src', '../_build/src/main' ],\n\t\t\t\t\t\ttemplate: 'src/index.html',\n\t\t\t\t\t\tfilename: '../_build/src/index.html'\n\t\t\t\t\t}),\n\t\t\t\t\tnew webpack.optimize.CommonsChunkPlugin({\n\t\t\t\t\t\tname: 'src',\n\t\t\t\t\t\tfilename: '../_build/src/src.js',\n\t\t\t\t\t\tchunks: ['../_build/src/main', '../_build/tests/unit/all'],\n\t\t\t\t\t\tminChunks: (module: any) => {\n\t\t\t\t\t\t\tif (module.resource && !(/^.*\\.(ts)$/).test(module.resource)) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn module.context && module.context.indexOf('src/') !== -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t})];\n\t\t\t}),\n\t\t\t...includeWhen(includesExternals, () => [\n\t\t\t\tnew ExternalLoaderPlugin({\n\t\t\t\t\tdependencies: externalDependencies,\n\t\t\t\t\toutputPath: args.externals && args.externals.outputPath,\n\t\t\t\t\tpathPrefix: args.withTests ? '../_build/src' : ''\n\t\t\t\t})\n\t\t\t])\n\n\t\t],\n\t\toutput: includeWhen(args.element, args => {\n\t\t\treturn Object.assign(outputConfig, {\n\t\t\t\tlibraryTarget: 'jsonp',\n\t\t\t\tpath: path.resolve(`./dist/${args.elementPrefix}`)\n\t\t\t});\n\t\t}, () => {\n\t\t\treturn Object.assign(outputConfig, {\n\t\t\t\tlibrary: '[name]',\n\t\t\t\tumdNamedDefine: true\n\t\t\t});\n\t\t}),\n\t\tdevtool: 'source-map',\n\t\tresolve: {\n\t\t\tmodules: [\n\t\t\t\tbasePath,\n\t\t\t\tpath.join(basePath, 'node_modules')\n\t\t\t],\n\t\t\textensions: ['.ts', '.tsx', '.js']\n\t\t},\n\t\t\tresolveLoader: {\n\t\t\t\tmodules: [\n\t\t\t\t\tpath.join(isCLI ? __dirname : 'node_modules/@dojo/cli-build-webpack', 'loaders'),\n\t\t\t\t\tpath.join(__dirname, 'node_modules'),\n\t\t\t\t\t'node_modules' ]\n\t\t\t},\n\t\t\tmodule: {\n\t\t\t\trules: [\n\t\t\t\t\t...includeWhen(tslintExists, () => {\n\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttest: /\\.ts$/,\n\t\t\t\t\t\t\t\tenforce: 'pre',\n\t\t\t\t\t\t\t\tloader: 'tslint-loader',\n\t\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\t\ttsConfigFile: path.join(basePath, 'tslint.json'),\n\t\t\t\t\t\t\t\t...includeWhen(!args.watch && !args.withTests, () => {\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\temitErrors: true,\n\t\t\t\t\t\t\t\t\t\tfailOnHint: true\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t}\n\t\t\t\t\t];\n\t\t\t\t}),\n\t\t\t\t{ test: /@dojo\\/.*\\.js$/, enforce: 'pre', loader: 'source-map-loader-cli', options: { includeModulePaths: true } },\n\t\t\t\t{ test: /src[\\\\\\/].*\\.ts?$/, enforce: 'pre', loader: '@dojo/webpack-contrib/css-module-dts-loader?type=ts&instanceName=0_dojo' },\n\t\t\t\t{ test: /src[\\\\\\/].*\\.m\\.css?$/, enforce: 'pre', loader: '@dojo/webpack-contrib/css-module-dts-loader?type=css' },\n\t\t\t\t{ test: /src[\\\\\\/].*\\.ts(x)?$/, use: [\n\t\t\t\t\t{\n\t\t\t\t\t\tloader: '@dojo/webpack-contrib/static-build-loader',\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tfeatures: args.features\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tgetUMDCompatLoader({ bundles: args.bundles }),\n\t\t\t\t\t{\n\t\t\t\t\t\tloader: 'ts-loader',\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tinstance: 'dojo'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]},\n\t\t\t\t{ test: /\\.js?$/, loader: 'umd-compat-loader' },\n\t\t\t\t{ test: new RegExp(`globalize(\\\\${path.sep}|$)`), loader: 'imports-loader?define=>false' },\n\t\t\t\t...includeWhen(!args.element, () => {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t{ test: /\\.html$/, loader: 'html-loader' }\n\t\t\t\t\t];\n\t\t\t\t}),\n\t\t\t\t{ test: /.*\\.(gif|png|jpe?g|svg|eot|ttf|woff|woff2)$/i, loader: 'file-loader?hash=sha512&digest=hex&name=[hash:base64:8].[ext]' },\n\t\t\t\t{ test: /\\.css$/, exclude: /src[\\\\\\/].*/, loader: cssLoader },\n\t\t\t\t{ test: /src[\\\\\\/].*\\.css?$/, loader: cssModuleLoader },\n\t\t\t\t{ test: /\\.m\\.css\\.js$/, exclude: /src[\\\\\\/].*/, use: ['json-css-module-loader'] },\n\t\t\t\t...includeWhen(args.withTests, () => {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t{ test: /tests[\\\\\\/].*\\.ts?$/, use: [\n\t\t\t\t\t\t\t'umd-compat-loader',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tloader: 'ts-loader',\n\t\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\t\tinstance: 'dojo'}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t] },\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttest: /src\\/.*\\.ts$/,\n\t\t\t\t\t\t\t\tuse: {\n\t\t\t\t\t\t\t\t\tloader: 'istanbul-loader'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tenforce: 'post'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t];\n\t\t\t\t\t}),\n\t\t\t\t\t...includeWhen(args.element, args => {\n\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t{ test: /custom-element\\.js/, loader: `imports-loader?widgetFactory=${args.element}` }\n\t\t\t\t\t\t];\n\t\t\t\t\t}),\n\t\t\t\t\t...includeWhen(args.bundles && Object.keys(args.bundles).length, () => {\n\t\t\t\t\t\tconst loaders: any[] = [];\n\n\t\t\t\t\tObject.keys(args.bundles).forEach(bundleName => {\n\t\t\t\t\t\t(args.bundles || {})[ bundleName ].forEach(fileName => {\n\t\t\t\t\t\t\tloaders.push({\n\t\t\t\t\t\t\t\ttest: /main\\.ts/,\n\t\t\t\t\t\t\t\tloader: {\n\t\t\t\t\t\t\t\t\tloader: 'imports-loader',\n\t\t\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\t\t\t'__manual_bundle__': `bundle-loader?lazy&name=${bundleName}!${fileName}`\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\treturn loaders;\n\t\t\t\t})\n\t\t\t]\n\t\t}\n\t};\n\n\tif (args.debug) {\n\t\tconfig.profile = true;\n\t}\n\n\treturn config;\n}\n\nmodule.exports = isCLI ? webpackConfig : webpackConfig({});\n"]}