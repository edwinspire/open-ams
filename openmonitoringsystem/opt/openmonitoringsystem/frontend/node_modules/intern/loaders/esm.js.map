{"version":3,"file":"esm.js","sourceRoot":"","sources":["../../../src/loaders/esm.ts"],"names":[],"mappings":";AAKA,MAAM,CAAC,cAAc,CAAC,UAAA,OAAO;IAC5B,EAAE,CAAC,CAAC,MAAM,CAAC,WAAW,KAAK,SAAS,CAAC,CAAC,CAAC;QACtC,MAAM,IAAI,KAAK,CAAC,0CAA0C,CAAC,CAAC;IAC7D,CAAC;IAED,MAAM,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;IAG/B,IAAM,aAAa,GAAiB,MAAM,CAAC;IAE3C,MAAM,CAAC,UAAC,OAAiB;QACxB,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IAChD,CAAC,CAAC;AACH,CAAC,CAAC,CAAC","sourcesContent":["/// <reference path=\"globals.d.ts\"/>\n\n/**\n * A loader script for loading ES-module JavaScript suites in the browser.\n */\nintern.registerLoader(_config => {\n\tif (intern.environment !== 'browser') {\n\t\tthrow new Error('The ESM loader only works in the browser');\n\t}\n\n\tintern.log('Using esm loader');\n\n\t// Declare a Browser-typed refernce to the global executor\n\tconst internBrowser: Browser = <any>intern;\n\n\treturn (modules: string[]) => {\n\t\treturn internBrowser.loadScript(modules, true);\n\t};\n});\n"]}