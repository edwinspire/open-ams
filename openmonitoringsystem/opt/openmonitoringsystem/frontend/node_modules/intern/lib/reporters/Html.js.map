{"version":3,"file":"Html.js","sourceRoot":"","sources":["../../../../src/lib/reporters/Html.ts"],"names":[],"mappings":"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","sourcesContent":["import UrlSearchParams from '@dojo/core/UrlSearchParams';\nimport { Executor } from '../executors/Executor';\nimport Reporter, { eventHandler, ReporterProperties } from './Reporter';\nimport Test from '../Test';\nimport Suite from '../Suite';\n\n/**\n * The Html reporter displays an HTML report in the browser.\n */\nexport default class Html extends Reporter implements HtmlProperties {\n\tdocument: Document;\n\n\tlocation: Location;\n\n\tprotected _reportContainer: Element;\n\n\t// Div element to hold buttons above the summary table\n\tprotected _reportControls: Element;\n\n\t// tbody element to append report rows to\n\tprotected _reportNode: Element;\n\n\t// tr element containing summary info\n\tprotected _summaryNode: Element;\n\n\t// Array of td elements in 'summaryNode'\n\tprotected _summaryNodes: Element[] = [];\n\n\t// Accumulator for total number of suites\n\tprotected _suiteCount = 0;\n\n\t// Accumulator for total number of tests\n\tprotected _testCount = 0;\n\n\t// Tests in the current suite\n\tprotected _testsInSuite = 0;\n\n\t// Current test index\n\tprotected _testIndex = 0;\n\n\t// ID's of tests that have been processed\n\tprotected _processedTests: any = {};\n\n\tprotected _failedFilter: any = null;\n\n\tprotected _fragment: DocumentFragment;\n\n\tprotected _indentLevel = 0;\n\n\tprotected _runningSuites: any = {};\n\n\tconstructor(executor: Executor, options: HtmlOptions = {}) {\n\t\tsuper(executor, options);\n\t\tthis.document = options.document || window.document;\n\t\tthis.location = options.location || window.location;\n\t\tthis._fragment = this.document.createDocumentFragment();\n\t}\n\n\t/**\n\t * Generate the summary header at the top of the report.\n\t *\n\t * @param suite The root suite of the test session\n\t */\n\tprotected _generateSummary(suite: Suite): void {\n\t\tconst document = this.document;\n\n\t\tif (this._summaryNodes.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst duration = suite.timeElapsed;\n\t\tconst numSkippedTests =\n\t\t\tsuite.numTests - (suite.numFailedTests + suite.numPassedTests);\n\t\tconst percentPassed = Math.round(\n\t\t\t(1 - suite.numFailedTests / suite.numTests) * 100\n\t\t);\n\t\tlet rowInfo = [\n\t\t\tthis._suiteCount,\n\t\t\tthis._testCount,\n\t\t\tformatDuration(duration),\n\t\t\tnumSkippedTests,\n\t\t\tsuite.numFailedTests,\n\t\t\tpercentPassed + '%'\n\t\t];\n\n\t\tfor (let i = 0; i < rowInfo.length; ++i) {\n\t\t\tthis._summaryNodes[i].appendChild(\n\t\t\t\tdocument.createTextNode(<string>rowInfo[i])\n\t\t\t);\n\t\t}\n\n\t\t// Create a toggle to only show failed tests\n\t\tif (suite.numFailedTests > 0) {\n\t\t\tlet failedFilter = (this._failedFilter = document.createElement(\n\t\t\t\t'div'\n\t\t\t));\n\t\t\tfailedFilter.className = 'failedFilter';\n\t\t\tlet failedToggle = document.createElement('input');\n\t\t\tfailedToggle.id = 'failedToggle';\n\t\t\tfailedToggle.type = 'checkbox';\n\n\t\t\tlet failedLabel = document.createElement('label');\n\t\t\tfailedLabel.htmlFor = 'failedToggle';\n\t\t\tfailedLabel.innerHTML = 'Show only failed tests';\n\n\t\t\tfailedFilter.appendChild(failedToggle);\n\t\t\tfailedFilter.appendChild(failedLabel);\n\n\t\t\tfailedToggle.onclick = function(this: HTMLElement) {\n\t\t\t\tconst input = <HTMLInputElement>this;\n\t\t\t\tif (input.checked) {\n\t\t\t\t\tdocument.body.className += ' hidePassed';\n\t\t\t\t} else {\n\t\t\t\t\tdocument.body.className = document.body.className.replace(\n\t\t\t\t\t\t/\\bhidePassed\\b/,\n\t\t\t\t\t\t' '\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n\n\tprotected _injectCSS() {\n\t\tconst document = this.document;\n\t\t// Prevent FOUC\n\t\tconst style = document.createElement('style');\n\t\tstyle.innerHTML = 'body { visibility: hidden; }';\n\n\t\tconst link = document.createElement('link');\n\t\tlink.rel = 'stylesheet';\n\t\tlink.href =\n\t\t\tthis.executor.config.internPath + 'lib/reporters/html/html.css';\n\n\t\tdocument.head.appendChild(style);\n\t\tdocument.head.appendChild(link);\n\t}\n\n\tprotected _getIndentLevel(node: Element) {\n\t\t// second child always has a class of indentN\n\t\tconst child: Element = node.children[1];\n\n\t\t// get the indentN class\n\t\tconst indent = child.className\n\t\t\t.split(' ')\n\t\t\t.filter(function(name: string) {\n\t\t\t\treturn name.indexOf('indent') >= 0;\n\t\t\t})[0];\n\n\t\treturn indent ? parseInt(indent.slice('indent'.length), 10) : 0;\n\t}\n\n\t/**\n\t * Set the collapsed state of a node and return the new state.\n\t *\n\t * @param {DOMNode} node A suite node\n\t * @param {boolean} collapsed Set the collapsed state, or toggle if\n\t * undefined\n\t */\n\tprotected _setCollapsed(node: Element, shouldCollapse?: boolean) {\n\t\tlet indentDelta: number;\n\t\tlet initialIndent = this._getIndentLevel(node);\n\n\t\tconst collapsed = containsClass(node, 'collapsed');\n\t\tif (shouldCollapse === collapsed) {\n\t\t\t// Don't do anything if the current collapse state is the the same\n\t\t\t// as the requested\n\t\t\treturn;\n\t\t}\n\n\t\t// Use the given collapsed state or toggle the existing state\n\t\tshouldCollapse = shouldCollapse == null ? !collapsed : shouldCollapse;\n\t\tif (shouldCollapse) {\n\t\t\taddClass(node, 'collapsed');\n\t\t} else {\n\t\t\tremoveClass(node, 'collapsed');\n\t\t}\n\n\t\t// node won't exist after the last test in a suite\n\t\twhile ((node = <Element>node.nextSibling)) {\n\t\t\tindentDelta = this._getIndentLevel(node) - initialIndent;\n\n\t\t\t// Stop looping when we encounter a row that's not indented more\n\t\t\t// than the suite being updated\n\t\t\tif (indentDelta === 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Child suites of the suite being updated should always be\n\t\t\t// collapsed\n\t\t\tif (containsClass(node, 'suite')) {\n\t\t\t\taddClass(node, 'collapsed');\n\t\t\t}\n\n\t\t\t// Only show children one level under the suite being updated when\n\t\t\t// expanding\n\t\t\t(<HTMLElement>node).style.display =\n\t\t\t\t!shouldCollapse && indentDelta === 1 ? null : 'none';\n\t\t}\n\t}\n\n\t@eventHandler()\n\terror(error: Error) {\n\t\tconst document = this.document;\n\t\tlet htmlError = this.formatError(error)\n\t\t\t.replace(/&/g, '&amp;')\n\t\t\t.replace(/</g, '&lt;');\n\t\tlet errorNode = document.createElement('div');\n\t\terrorNode.style.cssText = 'color: red; font-family: sans-serif;';\n\t\terrorNode.innerHTML =\n\t\t\t'<h1>Fatal error</h1>' +\n\t\t\t'<pre style=\"padding: 1em; background-color: #f0f0f0;\">' +\n\t\t\thtmlError +\n\t\t\t'</pre>';\n\t\tdocument.body.appendChild(errorNode);\n\t}\n\n\t@eventHandler()\n\trunStart() {\n\t\tconst document = this.document;\n\t\tthis._reportContainer = document.createElement('div');\n\t\tconst headerNode = document.createElement('h1');\n\t\tlet tableNode: Element;\n\t\tlet tmpNode: Element;\n\t\tlet rowNode: Element;\n\t\tlet cellNode: Element;\n\t\tconst summaryHeaders = [\n\t\t\t'Suites',\n\t\t\t'Tests',\n\t\t\t'Duration',\n\t\t\t'Skipped',\n\t\t\t'Failed',\n\t\t\t'Success Rate'\n\t\t];\n\n\t\tconst fragment = this._fragment;\n\n\t\t// Page header\n\t\tconst headerTitle = document.createElement('span');\n\t\theaderTitle.className = 'headerTitle';\n\t\theaderTitle.innerHTML = 'Intern Test Report';\n\n\t\theaderNode.className = 'reportHeader';\n\t\tconst headerLogo = document.createElement('img');\n\t\theaderLogo.className = 'headerLogo';\n\t\theaderLogo.src =\n\t\t\t'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAACACAMAAADwFUHEAAADAFBMVEUAAAAAAAAAAABVVVVAQEBmZmZVVVVtbW1gYGBVVVVmZmZdXV1qampiYmJtbW1mZmZwcHBpaWljY2Nra2tmZmZtbW1oaGhvb29qampwcHBsbGxoaGhtbW1qampvb29ra2twcHBsbGxxcXFtbW1qampubm5ra2tvb29sbGxwcHBtbW1xcXFubm5sbGxvb29tbW1wcHBtbW1wcHBubm5xcXFvb29tbW1vb29tbW1wcHBubm5wcHBvb29xcXFvb29tbW1wcHBubm5wcHBubm5xcXFvb29xcXFvb29ubm5wcHBubm5wcHBvb29xcXFvb29xcXFwcHBubm5wcHBwcHBvb29xcXFvb29ubm5xcXFwcHBvb29wcHBwcHBvb29xcXFwcHBubm5wcHBvb29wcHBvb29xcXFvb29xcXFwcHBvb29wcHBvb29wcHBvb29xcXFwcHBxcXFwcHBvb29wcHBvb29wcHBvb29xcXFwcHBxcXFwcHBvb29wcHBubm5wcHBwcHBwcHBxcXFwcHBvb29wcHBvb29xcXFwcHBwcHBvb29xcXFwcHBvb29wcHBwcHBxcXFwcHBxcXFwcHBxcXFwcHBvb29wcHBwcHBxcXFwcHBxcXFwcHBxcXFwcHBwcHBwcHBxcXFwcHBxcXFwcHBxcXFwcHBwcHBxcXFwcHBxcXFwcHBxcXFwcHBwcHBwcHBwcHBxcXFwcHBwcHBxcXFwcHBwcHBwcHBwcHBxcXFwcHBxcXFwcHBxcXFwcHBwcHBwcHBwcHBxcXFwcHBxcXFwcHBxcXFwcHBwcHBxcXFwcHBxcXFxcXFwcHBwcHBxcXFwcHBwcHBxcXFwcHBxcXFwcHBxcXFwcHBxcXFwcHBwcHBxcXFwcHBxcXFwcHBxcXFwcHBxcXFwcHBwcHBxcXFwcHBxcXFwcHBxcXFwcHBxcXFxcXFwcHBxcXFwcHBxcXFwcHBxcXFxcXFwcHBxcXFxcXFwcHBwcHBxcXFwcHBxcXFxcXFwcHBxcXFxcXFwcHBxcXF+cGExAAAA/3RSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1O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';\n\n\t\theaderNode.appendChild(headerLogo);\n\t\theaderNode.appendChild(headerTitle);\n\t\tfragment.appendChild(headerNode);\n\n\t\t// Report container\n\t\tthis._reportContainer.className = 'internReportContainer';\n\t\tthis._fragment.appendChild(this._reportContainer);\n\n\t\t// Summary table\n\t\ttableNode = document.createElement('table');\n\t\ttableNode.className = 'summary';\n\t\tthis._summaryNode = document.createElement('div');\n\n\t\ttmpNode = document.createElement('thead');\n\t\trowNode = document.createElement('tr');\n\t\tfor (let i = 0; i < summaryHeaders.length; i++) {\n\t\t\tcellNode = document.createElement('td');\n\n\t\t\tconst cellContent = document.createElement('div');\n\t\t\tcellContent.className =\n\t\t\t\t'summaryContent ' +\n\t\t\t\tsummaryHeaders[i]\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.replace(/\\s(.)/g, function(_, char) {\n\t\t\t\t\t\treturn char.toUpperCase();\n\t\t\t\t\t});\n\n\t\t\tconst cellTitle = document.createElement('span');\n\t\t\tcellTitle.className = 'summaryTitle';\n\t\t\tcellTitle.appendChild(document.createTextNode(summaryHeaders[i]));\n\n\t\t\tconst cellData = document.createElement('div');\n\t\t\tcellData.className = 'summaryData';\n\n\t\t\tthis._summaryNodes[i] = document.createElement('span');\n\t\t\tthis._summaryNode.appendChild(this._summaryNodes[i]);\n\n\t\t\tcellData.appendChild(this._summaryNodes[i]);\n\t\t\tcellContent.appendChild(cellTitle);\n\t\t\tcellContent.appendChild(cellData);\n\t\t\tcellNode.appendChild(cellContent);\n\t\t\trowNode.appendChild(cellNode);\n\t\t}\n\n\t\ttmpNode.appendChild(rowNode);\n\t\ttableNode.appendChild(tmpNode);\n\t\tthis._reportContainer.appendChild(tableNode);\n\n\t\t// Controls\n\t\tthis._reportControls = document.createElement('div');\n\t\tthis._reportControls.className = 'reportControls';\n\t\tthis._reportControls.appendChild(document.createElement('div'));\n\t\tthis._reportControls.appendChild(document.createElement('div'));\n\t\tthis._reportContainer.appendChild(this._reportControls);\n\n\t\t// Report table\n\t\ttableNode = document.createElement('table');\n\t\ttableNode.className = 'report';\n\t\tthis._reportNode = document.createElement('tbody');\n\t\ttableNode.appendChild(this._reportNode);\n\t\tthis._reportContainer.appendChild(tableNode);\n\t}\n\n\t@eventHandler()\n\tsuiteStart(suite: Suite) {\n\t\t// There's a top-level Suite that contains all user-created suites\n\t\t// We want to skip it\n\t\tif (!suite.hasParent) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._testsInSuite = suite.tests.length;\n\t\tthis._testIndex = 0;\n\t\tthis._processedTests = {};\n\n\t\tconst document = this.document;\n\t\tconst rowNode = document.createElement('tr');\n\n\t\t// Status cell\n\t\tlet cellNode = document.createElement('td');\n\t\tcellNode.className = 'testStatus';\n\t\trowNode.appendChild(cellNode);\n\n\t\tcellNode = document.createElement('td');\n\n\t\tthis._suiteCount++;\n\n\t\tcellNode.className = 'title';\n\t\tcellNode.appendChild(this.createLinkNode(suite));\n\t\trowNode.className = 'suite';\n\t\trowNode.appendChild(cellNode);\n\t\tthis._reportNode.appendChild(rowNode);\n\n\t\tif (this._indentLevel) {\n\t\t\tcellNode.className += ' indent' + Math.min(this._indentLevel, 5);\n\t\t\trowNode.className += ' indent';\n\t\t}\n\n\t\tthis._runningSuites[suite.id] = { node: rowNode };\n\t\t++this._indentLevel;\n\t}\n\n\t@eventHandler()\n\tsuiteEnd(suite: Suite) {\n\t\tconst document = this.document;\n\n\t\tconst numTests = suite.numTests;\n\t\tconst numFailedTests = suite.numFailedTests;\n\t\tconst numPassedTests = suite.numPassedTests;\n\t\tconst numSkippedTests = numTests - (numFailedTests + numPassedTests);\n\t\tconst hasSuiteFailures = suite.numSkippedTests !== numSkippedTests;\n\n\t\tif (!suite.hasParent) {\n\t\t\tthis._generateSummary(suite);\n\n\t\t\t// Load styles via webpack\n\t\t\trequire('./html/html.styl');\n\n\t\t\tdocument.body.innerHTML = '';\n\t\t\tdocument.body.className = '';\n\t\t\tdocument.body.appendChild(this._fragment);\n\n\t\t\tconst expandToggle = document.createElement('div');\n\t\t\texpandToggle.className = 'linkButton';\n\t\t\texpandToggle.textContent = 'Expand/collapse all';\n\t\t\tthis._reportControls.firstElementChild!.appendChild(expandToggle);\n\n\t\t\texpandToggle.addEventListener('click', () => {\n\t\t\t\tconst shouldExpand =\n\t\t\t\t\tthis._reportNode.querySelector('.collapsed') != null;\n\t\t\t\tconst suites = this._reportNode.querySelectorAll('.suite');\n\t\t\t\tfor (let i = 0; i < suites.length; i++) {\n\t\t\t\t\tthis._setCollapsed(suites[i], !shouldExpand);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (this._failedFilter) {\n\t\t\t\tthis._reportControls.lastElementChild!.appendChild(\n\t\t\t\t\tthis._failedFilter\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tconst failedNode = document.querySelector('.failed')!;\n\t\t\t\taddClass(failedNode, 'success');\n\t\t\t}\n\n\t\t\tif (suite.numFailedTests > 0) {\n\t\t\t\tconst successRateNode = document.querySelector('.successRate')!;\n\t\t\t\taddClass(successRateNode, 'failed');\n\t\t\t}\n\n\t\t\tif (hasSuiteFailures) {\n\t\t\t\tconst skippedNode = document.querySelector(\n\t\t\t\t\t'.summaryContent.skipped'\n\t\t\t\t)!;\n\t\t\t\taddClass(skippedNode, 'failed');\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst rowNode = this._runningSuites[suite.id].node;\n\n\t\t// Mark a suite as failed if any of its child tests failed, and\n\t\taddClass(\n\t\t\trowNode,\n\t\t\tnumFailedTests > 0 || hasSuiteFailures ? 'failed' : 'passed'\n\t\t);\n\n\t\t// Only suites with failed tests will be initially expanded\n\t\tthis._setCollapsed(rowNode, numFailedTests === 0 && !hasSuiteFailures);\n\n\t\tlet cellNode = document.createElement('td');\n\n\t\tif (numPassedTests > 0) {\n\t\t\tcellNode.appendChild(document.createTextNode('Passed: '));\n\t\t\tconst testsPassed = document.createElement('span');\n\t\t\ttestsPassed.className = 'success';\n\t\t\ttestsPassed.innerHTML = `${numPassedTests}`;\n\t\t\tcellNode.appendChild(testsPassed);\n\t\t}\n\n\t\tif (numFailedTests > 0) {\n\t\t\tcellNode.appendChild(document.createTextNode('Failed: '));\n\t\t\tconst testsFailed = document.createElement('span');\n\t\t\ttestsFailed.className = 'failed';\n\t\t\ttestsFailed.innerHTML = `${numFailedTests}`;\n\t\t\tcellNode.appendChild(testsFailed);\n\t\t}\n\n\t\tif (numSkippedTests > 0) {\n\t\t\tcellNode.appendChild(document.createTextNode('Skipped: '));\n\t\t\tconst testsSkipped = document.createElement('span');\n\t\t\ttestsSkipped.innerHTML = `${numSkippedTests}`;\n\t\t\tcellNode.appendChild(testsSkipped);\n\t\t}\n\n\t\tif (suite.error) {\n\t\t\tconst suiteError = document.createElement('span');\n\t\t\tsuiteError.className = 'failed';\n\t\t\tsuiteError.innerHTML = 'Suite error!';\n\t\t\tcellNode.appendChild(suiteError);\n\t\t}\n\n\t\trowNode.addEventListener('click', (event: Event) => {\n\t\t\tthis._setCollapsed(<Element>event.currentTarget);\n\t\t});\n\n\t\tcellNode.className = 'column-info';\n\t\trowNode.appendChild(cellNode);\n\n\t\t// Duration cell\n\t\tcellNode = document.createElement('td');\n\t\tcellNode.className = 'numeric duration';\n\t\tcellNode.appendChild(\n\t\t\tdocument.createTextNode(formatDuration(suite.timeElapsed))\n\t\t);\n\t\trowNode.appendChild(cellNode);\n\n\t\t--this._indentLevel;\n\n\t\t// Only update the global tracking variables for top-level suites\n\t\tif (!this._indentLevel) {\n\t\t\tthis._testCount += numTests;\n\t\t}\n\n\t\tthis._runningSuites[suite.id] = null;\n\t}\n\n\t@eventHandler()\n\ttestEnd(test: Test) {\n\t\tif (test.id in this._processedTests) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._processedTests[test.id] = true;\n\n\t\tthis._testIndex++;\n\n\t\tconst document = this.document;\n\t\tconst rowNode = document.createElement('tr');\n\n\t\t// Status cell\n\t\tlet cellNode = document.createElement('td');\n\t\tcellNode.className = 'testStatus';\n\t\trowNode.appendChild(cellNode);\n\n\t\tcellNode = document.createElement('td');\n\n\t\tif (this._indentLevel) {\n\t\t\tcellNode.className += ' indent' + this._indentLevel;\n\t\t}\n\n\t\tcellNode.appendChild(this.createLinkNode(test));\n\t\trowNode.appendChild(cellNode);\n\n\t\tcellNode = document.createElement('td');\n\t\tcellNode.className = 'column-info';\n\n\t\tif (test.error) {\n\t\t\trowNode.className = 'testResult failed';\n\t\t\tcellNode.appendChild(document.createTextNode(test.error.message));\n\t\t} else if (test.skipped != null) {\n\t\t\trowNode.className = 'testResult skipped';\n\t\t\tcellNode.appendChild(document.createTextNode(test.skipped || ''));\n\t\t} else {\n\t\t\trowNode.className = 'testResult passed';\n\t\t}\n\n\t\tif (this._testIndex === this._testsInSuite) {\n\t\t\trowNode.className = rowNode.className + ' lastTest';\n\t\t}\n\n\t\trowNode.appendChild(cellNode);\n\n\t\tcellNode = document.createElement('td');\n\t\tcellNode.className = 'numeric duration';\n\t\tcellNode.appendChild(\n\t\t\tdocument.createTextNode(\n\t\t\t\ttest.skipped ? 'Skipped' : formatDuration(test.timeElapsed)\n\t\t\t)\n\t\t);\n\t\trowNode.appendChild(cellNode);\n\n\t\tthis._reportNode.appendChild(rowNode);\n\t}\n\n\tprivate createLinkNode(obj: Suite | Test) {\n\t\tconst document = this.document;\n\t\tconst location = this.location;\n\n\t\tconst params = new UrlSearchParams(\n\t\t\tlocation.search.slice(1) || undefined\n\t\t);\n\t\tparams.delete('grep');\n\t\tparams.append('grep', obj.id);\n\n\t\tconst a = document.createElement('a');\n\t\ta.href = location.origin + location.pathname + `?${params.toString()}`;\n\t\ta.appendChild(document.createTextNode(obj.name));\n\n\t\treturn a;\n\t}\n}\n\nexport interface HtmlProperties extends ReporterProperties {\n\tdocument: Document;\n\tlocation: Location;\n}\n\nexport type HtmlOptions = Partial<HtmlProperties>;\n\nfunction containsClass(node: Element, cls: string) {\n\tconst classes = node.className.split(/\\s+/);\n\treturn classes.indexOf(cls) !== -1;\n}\n\nfunction addClass(node: Element, cls: string) {\n\tconst classes = node.className.split(/\\s+/);\n\tif (classes.indexOf(cls) !== -1) {\n\t\treturn;\n\t}\n\n\tclasses.push(cls);\n\tnode.className = classes.join(' ');\n}\n\nfunction removeClass(node: Element, cls: string) {\n\tconst classes = node.className.split(/\\s+/);\n\tconst index = classes.indexOf(cls);\n\tif (index === -1) {\n\t\treturn;\n\t}\n\n\tclasses.splice(index, 1);\n\tnode.className = classes.join(' ');\n}\n\nfunction pad(value: string | number, size: number): string {\n\tlet padded = String(value);\n\n\twhile (padded.length < size) {\n\t\tpadded = '0' + padded;\n\t}\n\n\treturn padded;\n}\n\n// Format a millisecond value to m:ss.SSS\n// If duration is greater than 60 minutes, value will be HHHH:mm:ss.SSS\n// (the hours value will not be converted to days)\nfunction formatDuration(duration: number): string {\n\tlet hours = Math.floor(duration / 3600000);\n\tlet minutes: string | number = Math.floor(duration / 60000) - hours * 60;\n\tlet seconds = Math.floor(duration / 1000) - hours * 3600 - minutes * 60;\n\tlet milliseconds =\n\t\tduration - hours * 3600000 - minutes * 60000 - seconds * 1000;\n\tlet formattedValue = '';\n\n\tif (hours) {\n\t\tformattedValue = hours + ':';\n\t\tminutes = pad(minutes, 2);\n\t}\n\n\tformattedValue +=\n\t\tminutes + ':' + pad(seconds, 2) + '.' + pad(milliseconds, 3);\n\n\treturn formattedValue;\n}\n"]}