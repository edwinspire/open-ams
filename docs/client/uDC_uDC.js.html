<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: uDC/uDC.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: uDC/uDC.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**

 * Handles elements

 * @namespace OpenMonitoringSystem

 */
 define([
 	'dojo/_base/declare',
 	'dijit/_Widget',
 	'dijit/_Templated',
 	'dojo/text!uDC/uDC.html',
 	'dojo/request', 'dojo/query', "dojo/Evented", "dijit/registry", "dojo/dom-attr", "dojo/_base/array", "dojo/on", "dojo/topic", "dojo/Deferred"
 	], function (declare, _Widget, _Templated, templateString, _2, _3, _4, _5, _6, _7, _8, topic, Deferred) {
    /**
     * Micro Data Connector
     *
     * @module uDC/uDC
     */
 		return declare([_Widget, _Templated, _4], {
 			widgetsInTemplate: true,
 			templateString: templateString,
 			_wdijit: {},
 			_wdojo: [],
 			_modified_fields_to_send: {},
         target: '',
         table: '',
         idProperty: '',
         selectorClass: '',
         nodeContainer: '',
         hiddenFields: [],
         fieldTypes: [],
         targetFieldtypes: "/njs/db/uDCFieldTypes",	
         _ConnectionsOnChange: [],
    /**
     * @class uDC
     * @param args {object}
              * @property {string}  hiddenFields - Id del contenedor donde se buscaran los campos que tengan el selectorClass
         * @property {string}  fieldTypes - Id del contenedor donde se buscaran los campos que tengan el selectorClass
         * @property {string}  target - Url donde apunta para obtener o enviar datos 
 		 * @property {string}  table - Tabla a la cual esta vinculado este uDC
 	 	 * @property {integer}  idProperty - Nombre del campo que se usa como referecia.
 	 	 * @property {string}  nodeContainer - Id del contenedor donde se buscaran los campos que tengan el selectorClass 	 	 
 	 	 * @property {string}  selectorClass - Selector CSS para buscar los campos que van a pertenecer a este uDC
 	 	 * @property {string}  targetFieldtypes - Url de donde se obtendran los tipos de datos de cada campo
     */
     constructor: function(args){
     	dojo.safeMixin(this, args);
     },
     postCreate: function () {
     	this.targetFieldtypes = "/njs/db/uDCFieldTypes";
     	this.inherited(arguments);
     	var t = this;

     	t._Build();

     },
     _HiddenFieldCreate: function (_name) {
     	var t = this;

     	var r = { name: _name, value: '', type: 'HiddenField' };
     	r.get = function (v) {
     		var g = null;
     		switch (v) {
     			case 'name':
     			g = this.name;
     			break;
     			case 'value':
     			g = this.value;
     			break;
     		}
     		return g;
     	}

     	r.set = function (_p, _v, _noeventchanged) {

     		switch (_p) {
     			case 'name':
     			this.name = _v;
     			break;
     			case 'value':
     			this.value = _v;

     			_noeventchanged = _noeventchanged || true;



     			if (_noeventchanged) {
//                        console.log(_noeventchanged);
t._modified_fields_to_send[this.name] = _v;
console.log(this.name, _p, _v, _noeventchanged);
//                            console.warn(t._modified_fields_to_send); 
}

break;
}
};

r.isValid = function () { return true; }
r.reset = function(){console.debug('No esta implementado el reset en campos ocultos uDC');}

return r;
},
_setFieldAttr: function (_field, _value, _noeventchanged) {
	var t = this;
	var name;
	var value;
//var fieldtype;

_noeventchanged = _noeventchanged || true;

//console.log(_field, _value, _noeventchanged, t._wdijit);

try{
	value = t._value_pg_to_field(_field, _value);
}catch(e){
	console.warn(e);
}

try {          
           //  console.log(t._wdijit[_field]);
           t._modified_fields_to_send[_field] = null;
           t._wdijit[_field].set('value', value, _noeventchanged);
             //   console.warn(t._modified_fields_to_send, t._wdijit); 
         } catch (e) {
         	console.error(_field, e);
         }

   //     console.log(t._wdijit);            

   return this;
},
_getFieldAttr: function (_field) {

	var t = this;

	for (var field in t._wdijit) {
		if (t._wdijit.hasOwnProperty(field)) {

			return t._wdijit[field].get('value');

		}
	}    
	console.error('No existe el campo '+_field);
	return null;
},
_BindFields: function () {

//            var r = false;
// var deferred = new Deferred();


var t = this;  

if (t.nodeContainer &amp;&amp; t.selectorClass) {

//   console.warn('BindFields', t);         

t._wdijit = {};
t._wdojo = {};

var f = [];

if (t.nodeContainer !== 'undefined') {
	f = _3(t.selectorClass, dojo.byId(t.nodeContainer));
} else {
	console.warn('No ha definido node_container, se buscara dentro de uDC usando la clase ' + t.selectorClass);
	f = _3(t.selectorClass, t.domNode);
}


if (Array.isArray(t.hiddenFields)) {
	_7.forEach(t.hiddenFields, function (item, i) {
		t._wdijit[item.name] = t._HiddenFieldCreate(item.name);
	});
}else{
	console.log('No hay campos ocultos / internos');
}


var name;

f.forEach(function (node, i) {

//console.debug(node);

var d = _5.byNode(node);

if (d) {
	name = d.get('name');
	if (name) {
		t._wdijit[name] = d;

		try {
			d.isValid();
		} catch (e) {
			d.isValid = function () { return true; }
		}

		t._ConnectDijitOnChanged(d);
	}

} else {
	d = node;
	if (d) {
		try {
			name = node.name;
			t._wdojo[name] = node;
		} catch (e) {
			console.warn(e);
		}
	}
}

});



r = true;
t._modified_fields_to_send = {};
console.warn(t._modified_fields_to_send, t._wdijit);                              

                         //  deferred.resolve("success");
                     } else {
                     	console.warn('No ha declarado los parametros node y/o selector_class ');
                          //  deferred.resolve("success");
                      } 




                      return this;
                  },

                  _RemoveOnChangeHandler: function(){
                  	var t = this; 
                  	_7.forEach(t._ConnectionsOnChange, function(e){
                  		e.remove();
          		//console.log('Remove event OnChange', e);
          	});
                  	return this;        
                  },
                  _Build: function(){
                  	var t = this;

        // TODO: Hacer que funcione _RemoveOnChangeHandler correctamente antes de contruir el widget y no borre los eventosa onchanged q son necesarios.
	//t._RemoveOnChangeHandler();
//	console.debug(t);

if (t.targetFieldtypes) {

	t._get_fieldtypes().then(function (results) {
		console.log('Se ha terminado de cargar los FieldTypes, se procede con el BindFields');

		t._BindFields();

	});

}  else{
	t._BindFields();
} 

return this;
},
_setConfigAttr: function (_config, _bind, _force) {
	var t = this;
	if (_force) {
               // t.Config = _config;
               //TODO
           } else {

           	for (var item in _config) {
           		try {
           			t[item] = _config[item];
           		} catch (e) {
           			console.error(e);
           		}
           	}

           }
           if (!_bind != 'undefined') {
           	t._Build();
           }

       // console.debug(t);

       return this;
   },         
   uninitialize: function(){
   	var t = this;
   	t._RemoveOnChangeHandler();
   },
        /**
         * A method in first level, just for test
         * @memberof uDC
         * @method isValid
          * @instance
          */
          isValid: function () {
          	var t = this;
          	var r = true;
          //  console.trace();

          for (var field in t._wdijit) {
          	if (t._wdijit.hasOwnProperty(field)) {

          		r = t._wdijit[field].isValid();


          		if (!r) {

          			console.log('required '+t._wdijit[field].get('required'));

          			console.debug(field+' no es valido'); 
          			break;}

          		}
          	}


          	if (r) {
                ///////// TODO: Esta seccion debe ser probada (Dojo) ////////////
            }

            if (!r) {
            	t._notifications({ Urgency: 1, Message: 'Existen campos con datos que no son correctos, debe revisarlos.', Title: 'Datos invÃ¡lidos!' });
            }
            return r;
        },

        _value_field_to_pg: function (_w) {

        	var _value = String(_w.get('value'));
        	var _name = _w.get('name');
        	var t = this;
        	var r = null;
        //    var _typefield = _w.get('data-dbfieldtype');
        console.log(_name, _value);

        try{
        	if (t.fieldTypes[_name]) {

        		var typeF = t.fieldTypes[_name].data_type;

        		if(t.fieldTypes[_name].data_type.indexOf("[]") > -1){
        			typeF = "[]";
        		}



        		switch (typeF) {
        			case 'timestamp without time zone':
        			r = _value;
        			break;
        			case 'timestamp with time zone':
        			r = _value;
        			break;
        			case 'boolean':
        			r = _value.to_boolean();
        			break;
        			case 'integer':
        			r = _value.to_int();
        			break;
        			case 'float':
        			r = _value.to_float();
        			break;
        			case 'double precision':
        			r = _value.to_float();
        			break;
        			case 'number':
        			r = _value.to_number();
        			break;
        			case '[]':
        			r = '{'+_value+'}';
        			break;                        
        			default:
        			r = _value;
        			break;

        		}
        	}else{
        		r = _value;
        	}
        }catch(e){
        	console.warn(e);
        	r = _value;
        }            




 /*           try {
                switch (_typefield) {
                    case 'date':
                        r = _value.toISOString();
                        break;
                    case 'checkbox':
                        if (_value == 't' || _value == 'on' || _value == 'checked') {
                            r = true;
                        } else {
                            r = false;
                        }
                        break;
                    case 'integer':
                        r = parseInt(_value);
                        break;
                    case 'float':
                        r = parseFloat(_value);
                        break;
                    case 'number':
                        r = Number(_value);
                        break;
                    default:
                        _typefield = 'text';
                        r = _value.toString();
                        break;

                }
            } catch (e) {
                console.warn(e);
            }


// TODO: Este bloque de codigo debe ser incluido y revisado
            if (_w.get('data-dbfieldemptyasnull') &amp;&amp; r.length &lt; 1) {
                r = null;
            }
            */


            //            console.log(_typefield + " ==> " + _value);
            return r;
        },
        _value_pg_to_field: function (_name, _v) {
        	var t = this;
        	var r = null;
        	var _value = String(_v);
         //   console.log(_name+" = "+_value);
//          console.log(t.Config.FieldTypes);
try{
	if (t.fieldTypes[_name]) {

		switch (t.fieldTypes[_name].data_type) {
			case 'timestamp without time zone':
			r = _value.fromISO_to_date();
			break;
			case 'timestamp with time zone':
			r = _value.fromISO_to_date();
			break;
			case 'boolean':
			r = _value.to_boolean();
			break;
			case 'integer':
			r = _value.to_int();
			break;
			case 'float':
			r = _value.to_float();
			break;
			case 'double precision':
			r = _value.to_float();
			break;
			case 'number':
			r = _value.to_number();
			break;
			default:
			r = _v;
			break;

		}
	}else{
		r = _value;
	}
}catch(e){
	console.warn(e);
	r = _value;
}

             //    console.log(_name+"  "+r);
             return r;
         },
         _set_values_onload: function (_v) {
         	var t = this;
        //    var name;
         //   var value;
          //  var fieldtype;

          
          t._modified_fields_to_send = {};
          //  console.warn(t._modified_fields_to_send, t._wdijit); 

          for (var name in t._wdijit) {

          	try {
          		t._wdijit[name].set('value', t._value_pg_to_field(name, _v[name]), false);
          	} catch (e) {
          		console.error(e);
          	}

          }


    /**
     * Emite el evento cuando los datos se han cargado.
     *
     * @event uDC#Loaded
     * @type {object}
     */

 t.emit('Loaded', _v);            

 console.log('se termina de cargar los datos');
 return this;

},
_reset_fields: function () {
	var t = this;

	for (var field in t._wdijit) {
		if (t._wdijit.hasOwnProperty(field)) {
			try{
				t._wdijit[field].reset();
			}catch(error){
				console.error(t._wdijit[field], error);
			}
		}
	}

/*
        _7.forEach(t._wdijit, function (wi, i) {
            try {
                wi.reset();
                console.log('reset ', wi);
            } catch (e) {
                console.warn(e);
            }
        });
        */


/*
            ///////////////////////////////////////////
            // TODO // esta seccion no ha sido probada
            _7.forEach(t._wdojo, function (wo, i) {
                try {
                    wo.reset();
                } catch (e) {
                    console.warn(e);
                }
            });
            */
            return t;
        },
        _ConnectDijitOnChanged: function (_w) {
        	var t = this;

//            console.debug(_w.get('name') + ' es agregado al evento *onchanged*', _w);

t._ConnectionsOnChange.push(


	_w.on('Change', function (v) {

		var name = _w.get('name');


		if (this.isValid()) {

			t._modified_fields_to_send[name] = t._value_field_to_pg(this);
                    //console.warn(t._modified_fields_to_send, t._wdijit); 

                } else if (!this.attr("required")) {
                    // No es valido y tampoco es requerido asi que lo seteamos a null
                    t._modified_fields_to_send[name] = null;
                    console.warn(t._modified_fields_to_send, t._wdijit); 

                } else if (this.attr("required")) {
                	t._notifications({ Urgency: 2, Message: 'El Campo '+name+' es requerido', Title: 'Error en los datos' });
                    console.warn('El campo '+name+' es requerido'); // Notificar al usuario
                }
                
//                console.log('Hubo un cambio ', t._modified_fields_to_send);


})

	);

             /*
  topic.connect(node, "onclick", function(){
    // disable the other mouse events:
    array.forEach(connections, topic.disconnect);
  });
  */
  
//  console.debug(t._ConnectionsOnChange);
return t;
},
_ConnectDojoOnChanged: function (_input) {
	var t = this;
	console.warn('No esta implementado');
	return t;
},
_post: function (_data, _query_type) {
	var t = this;
	var r;

	var count_fields = 0;
	for (var field in t._wdijit) {
		if (t._wdijit.hasOwnProperty(field)) {
			++count_fields;
		}
	}

	for (var field in t._wdojo) {
		if (t._wdojo.hasOwnProperty(field)) {
			++count_fields;
		}
	}


	if (count_fields > 0) {
		if (_data) {
			_data.UdcAction = _query_type;
			_data.UdcTable = t.table;
                 //  _data.UdcIsValid = t.isValid();
                 _data.uDCidProperty = t.idProperty;

                 if (_query_type == 'insert') {
                 	r =  t._internal_post(_data);
                 } else if (_query_type != 'insert' &amp;&amp; _data.uDCidProperty) {
                 	r = t._internal_post(_data);
                 } else {
                 	console.warn('La operacion ' + _query_type + ' requiere del parametro idProperty');
                 }



             } else {
             	console.log('no hay datos para enviar');
             }

         } else {
         	console.warn('No hay campos registrados/configurados a este udc');
         }

         if(!r){
         	deferred = new Deferred();
         	deferred.resolve("success");
         	r = deferred.promise;
         }

         return r;
     },
     _internal_post: function (_data) {
     	var t = this;
            //console.log(_data);
            var data_send = {};

            for (var index in _data) {
                //    var attr = object[index]; 
                //console.log(index);
                //console.log(_data[index]);
                if (_data[index] &amp;&amp; _data[index].constructor.toString().indexOf("Array") > -1) {
                    //if( Object.prototype.toString.call( _data[index] ) === '[object Array]' ) {
                    //    alert( 'Array!' );
                    data_send[index] = '{' + _data[index].toString() + '}';
                } else {
                	data_send[index] = _data[index];
                }

            }

           // console.debug(t);

           return  _2.post(t.target, {
           	data: data_send,
           	preventCache: true,
           	handleAs: 'json'
           }).then(
           function (response) {
           	console.debug(response);
           	switch (data_send.UdcAction) {
                        /////// De aqui hacia abajo es la nueva version /////////////////
                        case 'select':
                        t._set_values_onload(response[0]);
                            //                                    t._set_values_onload();

                            t.emit('onSelect', { data: response[0]});
                            break;
                            case 'insert':
                            if (response.success) {
                            	t._notifications({ Urgency: 10, Message: 'Ok', Title: 'Registro ingresado' });
                            } else {
                            	t._request_success_fail(response);
                            }
                            t.emit('onInsert', { data: response });
                            break;
                            case 'update':
                            if (response.success) {
                            	t._notifications({ Urgency: 10, Message: 'Update ' + response.rowCount + ' row(s)', Title: 'Registro actualizado' });

                            	t.Select(data_send[t.idProperty]);
                            } else {
                            	t._request_success_fail(response);
                            }
                            //console.log(response);
                            t.emit('onUpdate', { data: response });
                            break;
                            case 'delete':
                            if (response.success) {
                            	t._notifications({ Urgency: 10, Message: 'Delete ' + response.rowCount + ' row(s)', Title: 'Registro eliminado' });
                            } else {
                            	t._request_success_fail(response);
                            }
                            t.emit('onDelete', { data: response });
                            break;


                        }

                    //t.changed = false;

                },
                function (e) {
                    // Display the error returned
                    t._notifications({ Urgency: 1, Message: e, Title: 'Error!' });
                    t.emit('onError', { error: e });
                    //  alert(e);
                }, 
                function(f){
//console.log(f)
}
);

       },
       _request_success_fail: function(response){
       	t._notifications({ Urgency: 2, Message: response.data.code, Title: 'La operacion ha fallado'});
       },
       _notifications: function (_args) {
       	topic.publish("/event/notification_area/notify", _args);
        /*
            if (t._notifications) {
                t._notifications(n);
            } else {
                console.warn('t._notifications no esta presente');
            }
            */
        },        
                /**
         * Hace un reset de todos los campos
         * @memberof OpenMonitoringSystem.uDC.uDC
         * @method Clear
          */
        Clear: function () {
        	console.log('reset');
        	this._reset_fields();
        	return this;
        },
                /**
         * Hace select a la base de datos segun el id pasado como parametro
         * @memberof uDC
         * @method Select
          * @param id {integer|string}
          * @instance
          */
        Select: function (idrow) {
        	var t = this;
        	t.changed = false;
         //   console.log('select_tuple ' + idrow);
         var _d = {};
         _d[this.idProperty] = idrow;
         return this._post(_d, 'select');    
     },
     Insert: function () {

//console.log(this);

            //   var v = this.values();
            if (this.isValid()) {
                //
//console.log(this);
                  //            console.log(v);
                //console.log(this._modified_fields_to_send);
                return this._post(this._modified_fields_to_send, 'insert');
            }
           // return this;
       },
       New: function () {
       	return this.Insert();            
       },
       Update: function () {

       	var t = this;
            // var v = this.values();

            if (t.isValid()) {

            	if (t.idProperty &amp;&amp; t.idProperty.length > 0) {


          //  console.debug(t._modified_fields_to_send);

          var count_fields = 0;
          for (var field in t._modified_fields_to_send) {
          	if (t._modified_fields_to_send.hasOwnProperty(field)) {
          		++count_fields;
          	}
          }


          if (count_fields > 0 &amp;&amp; t._wdijit[t.idProperty].get('value')) {


          	console.log(t._wdijit, t.idProperty);

          	t._modified_fields_to_send[t.idProperty] = t._wdijit[t.idProperty].get('value');
          	console.warn(t._modified_fields_to_send, t._wdijit); 
          	return  t._post(t._modified_fields_to_send, "update");



          } else {
          	console.log('No hubo cambios');
          	t._notifications({ Urgency: 15, Message: 'No hubo cambios en los campos', Title: 'Nada que guardar' });
          }


      } else {
      	console.warn('El idProperty es necesario para actualizaciones de registros');
      }

  }



           // return this;
       },
       Delete: function () {
       	console.log('Delete');
       	var _data = {};
       	_data[this.idProperty] = this._data[this.idProperty];
       	return this._post(_data, 'Delete');
       },
       _get_fieldtypes: function () {
       	var t = this;
       	t.fieldTypes = {};

       	var requestFieldTypes = _2.post(t.targetFieldtypes, {
       		data: { uDCTable: t.table },
       		preventCache: true,
       		handleAs: 'json'
       	}).then(
       	function (response) {
       		_7.forEach(response, function (item) {
       			t.fieldTypes[item['column_name']] = { data_type: item['data_type'] }
       		});


       	},
       	function (e) {
                    // Display the error returned
                    t._notifications({ Urgency: 1, Message: e, Title: 'Error!' });
                    t.emit('onError', { error: e });
                    //  alert(e);
                }
                );

       	return requestFieldTypes;
       }







        // Fin de funciones //
        //************************************//
    });
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-account_contacts_users_account_contacts_users.html">account_contacts_users/account_contacts_users</a></li><li><a href="module-account_data_account_data.html">account_data/account_data</a></li><li><a href="module-account_equipments_account_equipments.html">account_equipments/account_equipments</a></li><li><a href="module-account_events_isopen_account_events_isopen.html">account_events_isopen/account_events_isopen</a></li><li><a href="module-uDC_uDC.html">uDC/uDC</a></li><li><a href="module-uDCGrid_uDCGrid.html">uDCGrid/uDCGrid</a></li></ul><h3>Classes</h3><ul><li><a href="uDC.html">uDC</a></li><li><a href="uDCGrid.html">uDCGrid</a></li></ul><h3>Events</h3><ul><li><a href="uDC.html#event:Loaded">Loaded</a></li></ul><h3>Namespaces</h3><ul><li><a href="myNameSpace.html">myNameSpace</a></li><li><a href="OpenMonitoringSystem.html">OpenMonitoringSystem</a></li></ul><h3>Global</h3><ul><li><a href="global.html"></a></li><li><a href="global.html#_setEventAttr">_setEventAttr</a></li><li><a href="global.html#ACK">ACK</a></li><li><a href="global.html#BINARY_ACK">BINARY_ACK</a></li><li><a href="global.html#BINARY_EVENT">BINARY_EVENT</a></li><li><a href="global.html#cache">cache</a></li><li><a href="global.html#connect">connect</a></li><li><a href="global.html#CONNECT">CONNECT</a></li><li><a href="global.html#decode">decode</a></li><li><a href="global.html#decodeBase64Packet">decodeBase64Packet</a></li><li><a href="global.html#decodePacket">decodePacket</a></li><li><a href="global.html#Decoder">Decoder</a></li><li><a href="global.html#deconstructPacket">deconstructPacket</a></li><li><a href="global.html#DISCONNECT">DISCONNECT</a></li><li><a href="global.html#eio">eio</a></li><li><a href="global.html#emit">emit</a></li><li><a href="global.html#encode">encode</a></li><li><a href="global.html#encodeBase64Packet">encodeBase64Packet</a></li><li><a href="global.html#encodePacket">encodePacket</a></li><li><a href="global.html#encodePayload">encodePayload</a></li><li><a href="global.html#encodePayloadAsArrayBuffer">encodePayloadAsArrayBuffer</a></li><li><a href="global.html#encodePayloadAsBlob">encodePayloadAsBlob</a></li><li><a href="global.html#encodeQueryString">encodeQueryString</a></li><li><a href="global.html#Encoder">Encoder</a></li><li><a href="global.html#ERROR">ERROR</a></li><li><a href="global.html#EVENT">EVENT</a></li><li><a href="global.html#events">events</a></li><li><a href="global.html#glob">glob</a></li><li><a href="global.html#has">has</a></li><li><a href="global.html#lookup">lookup</a></li><li><a href="global.html#Manager">Manager</a></li><li><a href="global.html#on">on</a></li><li><a href="global.html#parser">parser</a></li><li><a href="global.html#parseuri">parseuri</a></li><li><a href="global.html#polling">polling</a></li><li><a href="global.html#protocol">protocol</a></li><li><a href="global.html#reconstructPacket">reconstructPacket</a></li><li><a href="global.html#removeBlobs">removeBlobs</a></li><li><a href="global.html#Socket">Socket</a></li><li><a href="global.html#types">types</a></li><li><a href="global.html#url">url</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Sun Nov 20 2016 14:51:11 GMT-0500 (ECT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
